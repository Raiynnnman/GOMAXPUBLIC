[
"create table if not exists version(label varchar(10) unique,version varchar(10));",
"create table if not exists status ( id INT PRIMARY KEY AUTO_INCREMENT, value varchar(32) unique);",
"create table if not exists job_status_history (id INT PRIMARY KEY AUTO_INCREMENT, job_id int, status_id int not null default 0, created timestamp default CURRENT_TIMESTAMP);",
"create table if not exists jobs ( id INT PRIMARY KEY AUTO_INCREMENT, job_id varchar(255) unique, curr_status int, updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP);",
"replace into status (value) values (\"QUEUED\");",
"replace into status (value) values (\"STARTED\");",
"replace into status (value) values (\"RUNNING\");",
"replace into status (value) values (\"COMPLETE\");",
"replace into status (value) values (\"ERROR\");",
"create table if not exists tables(id INT PRIMARY KEY AUTO_INCREMENT, name varchar(32));",
"create table if not exists filters(id INT PRIMARY KEY AUTO_INCREMENT, tables_id int, script text);",
"create table if not exists columns(id INT PRIMARY KEY AUTO_INCREMENT, tables_id int, name varchar(32));",
"alter table columns add column (datatypes varchar(32))",
"create table if not exists queries ( id INT PRIMARY KEY AUTO_INCREMENT, name varchar(32), query text, updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP);",
"insert into queries (name, query) values (\"Simple Weather Dataset\", \"select avg(weather) from example\");",
"create table if not exists results( id INT PRIMARY KEY AUTO_INCREMENT, resultid varchar(255), data text, updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP);",
"alter table results add column (jobid int)",
"insert into queries (name, query) values (\"Weather by Category\", \"select category_text,avg(weather) from example group by category_text\");",
"alter table queries add column (rawquery int not null default 0, columns text, tables text, groupby text, orderby text, jointables text)",
"delete from queries",
"create table if not exists dataset ( id INT PRIMARY KEY AUTO_INCREMENT, name varchar(32), tblname varchar(32), updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP);",
"create table if not exists objhash ( objid varchar(128) unique, tstamp timestamp default CURRENT_TIMESTAMP );",
"alter table objhash add column (schema_version int not null default 1)",
"alter table filters add column (tblname varchar(128))",
"alter table filters drop column tables_id",
"alter table filters drop column script",
"create table if not exists filter_list (id INT PRIMARY KEY AUTO_INCREMENT, filters_id int, name varchar(32), script text, updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP)",
"alter table filters add column (name varchar(32))",
"alter table filters add column (updated timestamp default CURRENT_TIMESTAMP)", 
"alter table filters add column (created timestamp default CURRENT_TIMESTAMP)",
"alter table filters add column (is_active int not null default 1)",
"create table if not exists dataset_list (id INT PRIMARY KEY AUTO_INCREMENT, filters_id int, name varchar(32), script text, updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP)",
"alter table dataset add column (query_id int)",
"alter table dataset drop column tblname",
"alter table dataset add column (is_active int not null default 1)",
"alter table dataset_list drop column filters_id",
"alter table dataset_list add column (dataset_id int)",
"alter table queries add column (whereclause text)",
"update queries set whereclause = '[]';",
"alter table jobs add column (is_active int not null default 1)",
"alter table jobs add column (datasetname varchar(64))",
"alter table jobs drop column datasetname",
"alter table results add column (name varchar(64))",
"alter table objhash add column (tbl varchar(64))",
"create table if not exists files (id INT PRIMARY KEY AUTO_INCREMENT, job_id int, classname varchar(32), filename varchar(255), updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP)",
"create table if not exists errorlog (id INT PRIMARY KEY AUTO_INCREMENT, job_id int, classname varchar(32), filename varchar(255), updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP)",
"create table if not exists joblog (id INT PRIMARY KEY AUTO_INCREMENT, job_id int, classname varchar(32), filename varchar(255), updated timestamp default CURRENT_TIMESTAMP, created timestamp default CURRENT_TIMESTAMP)",
"alter table errorlog add column (data text)",
"alter table joblog add column (data text)",
"create table result_rows (id INT PRIMARY KEY AUTO_INCREMENT, resultid int, data mediumtext)",
"select 1",
"create table dataset_registry (id INT PRIMARY KEY AUTO_INCREMENT, name varchar(255), tblname varchar(255))",
"drop table dataset_registry",
"create table dataset_registry (id INT PRIMARY KEY AUTO_INCREMENT, name varchar(255) unique, tblname varchar(255))",
"drop table dataset_registry",
"create table dataset_registry (id INT PRIMARY KEY AUTO_INCREMENT, name varchar(255) unique, tblname varchar(255))",
"alter table dataset_registry add column (cols text)",
"create table throttle_check (id INT PRIMARY KEY AUTO_INCREMENT, name varchar(255) unique, lastrun timestamp)",
"alter table errorlog drop column data",
"alter table errorlog add column (data mediumtext)",
"alter table joblog drop column data",
"alter table joblog add column (data mediumtext)",
"select 1",
"alter table result_rows add column (itemorder int)",
"alter table results add column (job_id int)",
"update results set job_id = jobid",
"alter table results drop column job_id",
"alter table results add column (job_id int)",
"update results set job_id = jobid",
"alter table results drop column jobid"
]
